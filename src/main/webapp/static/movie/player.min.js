"use strict";var BPlayer={insertPlayer:function(k,d,c,l,b,e,i,h,m,a,g,j,f){BPlayer.insertHTML5Player(k,d,c,l,b,e,i,h,m,a,g,j,f)},insertHTML5Player:function(c,g,m,l,e,a,o,s,r,j,n,k,i){var f=c;if(c.indexOf("://")<0&&(c.indexOf("/raw/static/")==0||c.indexOf("/secstatic/qtieditor/")>=0||c.indexOf("/secstatic/qti/")>=0)){f=c}else{if(c.indexOf("://")<0&&((o!="rtmp"&&o!="http")||((o=="rtmp"||o=="http")&&(s==undefined||s.length==0)))){var d=document.location.href;f=d.substring(0,d.lastIndexOf("/"));if(c.indexOf("/")!=0){f+="/"}f+=c}}var b={file:f,width:m,height:l,controlbar:{position:"bottom"}};if(typeof o!="undefined"){b.provider=o}if(o=="rtmp"||o=="http"){b.streamer=s}if(typeof e!="undefined"){var h=BPlayer._convertInSeconds(e);if(h>0){b.start=h}}if(typeof a!="undefined"){var q=BPlayer._convertInSeconds(a);if(q>0){b.duration=q}}if(typeof r!="undefined"&&r){b.autostart=true}if(typeof j!="undefined"&&j){b.repeat="single"}if(typeof n!="undefined"&&!n){b.controlbar="none"}if(typeof k!="undefined"&&k){b.image=k}if(typeof i!="undefined"){b.errorCallback=i}else{b.errorCallback=function(t,v,u){}}if(o=="nanoo"||f.indexOf("nanoo.tv/")>=0){BPlayer._loadNanooTv(g,b)}else{var p=function(){BPlayer._insertHTML5MediaElementPlayerWorker(g,b)};BPlayer.loadMediaelementJsPlayer(p)}},loadMediaelementJsPlayer:function(d){var a=BPlayer._mediaElementBaseUrl();var c=a+(BPlayer.debugEnabled?"mediaelementplayer.css":"mediaelementplayer.min.css");var b=a+(BPlayer.debugEnabled?"mediaelement-and-player.js":"mediaelement-and-player.min.js");if(jQuery("#mediaelementplayercss").length==0){jQuery("<link>").appendTo("head").attr({id:"mediaelementplayercss",type:"text/css",rel:"stylesheet"}).attr("href",c)}if(typeof jQuery("body").mediaelementplayer!="undefined"){if(d){d()}}else{jQuery.ajax({dataType:"script",cache:true,async:false,url:b}).done(function(){if(d){d()}})}},_loadNanooTv:function(d,b){var a=d+"_frame";for(var c=jQuery("#"+a).length;c-->0;){jQuery("#"+a).remove()}if(b.image===undefined||b.image===null||b.image.length==0){BPlayer._loadNanooTvFrame(d,a,b)}else{BPlayer._loadNanooTvPoster(d,a,b)}},_loadNanooTvPoster:function(f,a,b){if(jQuery("#mediaelementplayercss").length==0){var d=BPlayer._mediaElementBaseUrl();var e=d+(BPlayer.debugEnabled?"mediaelementplayer.css":"mediaelementplayer.min.css");jQuery("<link>").appendTo("head").attr({id:"mediaelementplayercss",type:"text/css",rel:"stylesheet"}).attr("href",e)}BPlayer._loadNanooResize(f,a,b);var g="<div id='"+a+"' class='mejs__container' role='application' style='width:"+b.width+"px; height:"+b.height+"px; overflow:hidden; overflow-x:hidden; overflow-y:hidden;'><div class='mejs__layers'><div class='mejs__poster mejs__layer' style='background-image: url("+b.image+"); width: 100%; height: 100%;'><img src='"+b.image+"' width='0' height='0'></img></div><div class='mejs__overlay mejs__layer mejs__overlay-play' style='width: 100%; height: 100%; z-index:10;'><div class='mejs__overlay-button' style='z-index:10;' role='button' tabindex='0' aria-label='Play' aria-pressed='false'></div></div></div></div>";var c=jQuery("#"+f);c.append(jQuery(g));c.css("border","none");jQuery("#"+f+" div.mejs__overlay-button").on("click",function(j,i){var h={file:b.file,width:b.width,height:b.height,autostart:true};BPlayer._loadNanooTvFrame(f,a,h)})},_loadNanooTvFrame:function(d,h,b){for(var g=jQuery("#"+h).length;g-->0;){jQuery("#"+h).remove()}BPlayer._loadNanooResize(d,h,b);var a=b.file;var e=a.split("?");var c=e[0].substring(a.lastIndexOf("/")+1);if(b.autostart){a="https://www.nanoo.tv/link/w/"+c}else{a="https://www.nanoo.tv/link/n/"+c}var f='<iframe name="'+h+'" id="'+h+'" src="'+a+'" style="width:'+b.width+"px; height:"+b.height+'px; overflow:hidden;" frameborder="0" allow="fullscreen" allowfullscreen="true"></iframe>';var j=jQuery("#"+d);j.append(jQuery(f));j.css("border","none")},_loadNanooResize:function(f,h,d){try{var l=jQuery("#"+f);var a=l.parent("p , div");if(a.length==1&&typeof d.width!=="undefined"&&typeof d.height!=="undefined"){var m=jQuery(a).width();var c=d.width;var g=d.height;if(m&&m<c){var k=g/c;var i=m;var b=((m*k)|0);d.width=i;d.height=b}jQuery(window).resize(function(){var e=jQuery("#"+f).parent("p , div");var o=jQuery(e).width();if(o&&o<c){var p=g/c;var n=o;var q=((o*p)|0);jQuery("#"+h).width(n+"px").height(q+"px")}}).trigger("resize")}}catch(j){if(window.console){console.log(j)}}},_insertHTML5MediaElementPlayerWorker:function(e,d){var j=BPlayer._mediaElementBaseUrl();var k={loop:d.repeat,pluginPath:j,stretching:"responsive",hls:{path:j+"hls/hls.min.js"},flv:{path:j+"flv/flv.min.js",withCredentials:true},error:d.errorCallback,success:function(n,p,o){if(d.start){o.load();n.addEventListener("canplay",function(){try{n.removeEventListener("canplay");o.setCurrentTime(d.start);o.play();if(!d.autostart){setTimeout(function(){o.pause()},100)}}catch(r){if(window.console){console.log(r)}}})}else{if(d.autostart){try{o.load();o.play()}catch(q){if(window.console){console.log(q)}}}}}};var a=null;var m=d.file.split(".").pop().toLowerCase().split("&").shift();if(m!=null&&m.indexOf("?")>=3){m=m.substring(0,m.indexOf("?"))}if(d.provider=="sound"){if(m=="mp3"){a="audio/mp3"}else{if(m=="aac"){a="audio/aac"}else{if(m=="m4a"){a="audio/mp4"}}}}else{if(d.provider=="youtube"){a="video/youtube"}else{if(d.provider=="vimeo"){a="video/vimeo"}else{if(d.provider=="rtmp"){k.flashStreamer=d.streamer;a="video/rtmp"}else{if(d.provider=="http"){d.enablePseudoStreaming=true;if(m=="flv"){a="video/flv";k.renderers=["flash_video","native_flv"]}else{a="video/mp4"}}else{if(m=="flv"){a="video/flv";k.renderers=["flash_video","native_flv"]}else{if(m=="f4v"){a="video/flv"}else{if(m=="mp4"){a="video/mp4"}else{if(m=="m4v"){a="video/mp4"}else{if(m=="m3u8"){a="application/x-mpegURL"}else{if(m=="aac"){a="audio/mp4";d.provider="sound"}else{if(m=="mp3"){a="audio/mp3";d.provider="sound"}else{if(m=="m4a"){a="audio/mp4";d.provider="sound"}else{if(d.file.indexOf("vimeo.com")>-1){a="video/vimeo"}else{if(d.file.indexOf("youtube.com")>-1||d.file.indexOf("youtu.be")>-1||d.file.indexOf("youtube.be")>-1){a="video/youtube"}else{if(m.indexOf("mp4?")==0){a="video/mp4"}else{if(d.file.indexOf("openmeetings/recording")>0){a="video/mp4"}else{if(m.indexOf("webm")==0){a="video/webm"}else{alert("Something go badly wrong!"+d.provider+"  "+m)}}}}}}}}}}}}}}}}}}var i;var c=e+"_oo"+Math.floor(Math.random()*1000000)+"vid";var f=e+"_oo"+Math.floor(Math.random()*1000000)+"obj";if(d.provider=="sound"){if(d.height&&!isNaN(d.height)){k.audioHeight=d.height}else{k.audioHeight="40";d.height="40"}if(d.width&&!isNaN(d.width)){k.audioWidth=d.width}else{k.audioWidth="300";d.width="300"}i="<audio id='"+c+"' controls='controls' oncontextmenu='return false;'";if(typeof d.repeat!="undefined"&&d.repeat){i+=" loop='loop'"}var b="<object id='"+f+"' type='application/x-shockwave-flash'";if(typeof d.height!="undefined"){i+=" height='"+d.height+"'";b+=" height='"+d.height+"'";k.videoHeight=d.height}if(typeof d.width!="undefined"){i+=" width='"+d.width+"'";b+=" width='"+d.width+"'";k.videoWidth=d.width}if(typeof d.image!="undefined"){i+=" poster='"+d.image+"'"}i+="><source type='"+a+"' src='"+d.file+"'>";var g="mediaelement-flash-video.swf";if(a=="audio/mp3"){g="mediaelement-flash-audio.swf"}else{if(a=="audio/ogg"){g="mediaelement-flash-audio-ogg.swf"}}i+=b+" data='"+j+g+"'>";i+="<param name='movie' value='"+j+g+"' />";i+="<param name='flashvars' value='controls=true&amp;";if(typeof d.streamer!="undefined"){i+="&amp;streamer="+d.streamer}i+="&amp;file="+d.file+"' /></object>";i+="</audio>"}else{i="<video id='"+c+"' controls='controls' preload='none' oncontextmenu='return false;'";if(typeof d.repeat!="undefined"&&d.repeat){i+=" loop='loop'"}var b="<object id='"+f+"' type='application/x-shockwave-flash'";if(typeof d.height!="undefined"){k.videoHeight=d.height}if(typeof d.width!="undefined"){k.videoWidth=d.width}if(typeof d.image!="undefined"){i+=" poster='"+d.image+"'"}i+="><source type='"+a+"' src='"+d.file+"' />";i+=b+" data='"+j+"mediaelement-flash-video.swf'>";i+="<param name='movie' value='"+j+"mediaelement-flash-video.swf' />";i+="<param name='flashvars' value='controls=true";if(typeof d.streamer!="undefined"){i+="&amp;streamer="+d.streamer}i+="&amp;file="+d.file+"' /></object></video>"}var h=jQuery("#"+e);h.css({height:""});h.css({border:"none"});if(jQuery(window).width()<=d.width){h.css({width:""})}h.html(i);if(a=="video/vimeo"){var j=BPlayer._mediaElementBaseUrl();var l=j+(BPlayer.debugEnabled?"renderers/vimeo.js":"renderers/vimeo.min.js");jQuery.ajax({dataType:"script",cache:true,async:false,url:l}).done(function(){jQuery("#"+c).mediaelementplayer(k)})}else{jQuery("#"+c).mediaelementplayer(k)}},_mediaElementBaseUrl:function(){var a=BPlayer._findBaseUrl(window);if(a==null){a="/olat/raw/_noversion_/"}a+="movie/mediaelementjs/";return a},_isIE8:function(){return(jQuery.support.opacity==false)},_jwPlayerBaseUrl:function(){var a=BPlayer._findBaseUrl(window);if(a==null){a="/olat/raw/_noversion_/"}a+="movie/jw/";return a},_findBaseUrl:function(a){if(a.o_info){return a.o_info.o_baseURI}else{if(a.opener){return BPlayer._findBaseUrl(a.opener)}else{if(a.parent){return BPlayer._findBaseUrl(a.parent)}else{return null}}}},_convertInSeconds:function(d){if(typeof d=="undefined"||d==null){return 0}if(!d.length){return d}if(d.length==0){return 0}if(d.indexOf(".")>0){d=d.substring(0,d.indexOf("."))}var e=d.lastIndexOf(":");if(e>0){var c=d.substring(e+1,d.length);var a=parseInt(c);d=d.substring(0,e);e=d.lastIndexOf(":");if(e>0){var b=d.substring(e+1,d.length);a+=60*parseInt(b)}d=d.substring(0,e);if(d.length>0){a+=60*60*parseInt(d)}return a}else{return d}},_isOODebug:function(a){if(a.o_info){return a.o_info.debug}else{if(a.opener){return BPlayer._isOODebug(a.opener)}else{if(a.parent){return BPlayer._isOODebug(a.parent)}else{return false}}}}};BPlayer.debugEnabled=BPlayer._isOODebug(window);
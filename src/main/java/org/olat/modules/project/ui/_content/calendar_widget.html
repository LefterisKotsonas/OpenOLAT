<div class="o_proj_widget o_proj_calendar_widget panel panel-default">
	<div class="o_proj_title o_proj_widget_title panel-heading">
		<div>
			<h3>
				$r.render("calendar.widget.title")
			</h3>
		</div>
		<div class="o_proj_widget_cmds">
			#if($r.available("appointment.create") && $r.visible("appointment.create"))
				$r.render("appointment.create")
			#end
		</div>
	</div>
	<div class="panel-body">
		<div class="o_proj_appointments">
			<div class="o_proj_full_row">
				<h4>
					$r.translate("calendar.widget.today")
				</h4>
			</div>
			#if($r.isNotEmpty($todayRows))
				#foreach($row in $todayRows)
					<div class="o_proj_date">
						<div class="o_proj_appointment_date">
							<i class="o_icon o_icon-fw o_icon_calendar"> </i>
							$row.date
						</div>
						#if($r.isNotEmpty($row.date2))
							<div class="o_proj_appointment_time">
								<i class="o_icon o_icon-fw "> </i>
								$row.date2
							</div>
						#end
						#if($r.isNotEmpty($row.time))
							<div class="o_proj_appointment_time">
								<i class="o_icon o_icon-fw o_icon_time"> </i>
								$row.time
							</div>
						#end
					</div>
					<div class="o_proj_subject">
						$r.escapeHtml($row.subject)
					</div>
				#end
			#else
				$r.translate("calendar.widget.no.appointments")
			#end
			
			<div class="o_proj_full_row">
				<h4>
					$r.translate("calendar.widget.next")
				</h4>
			</div>
			#if($r.isNotEmpty($nextRows))
				#foreach($row in $nextRows)
					<div class="o_proj_date">
						<div class="o_proj_appointment_date">
							<i class="o_icon o_icon-fw o_icon_calendar"> </i>
							$row.date
						</div>
						#if($r.isNotEmpty($row.date2))
							<div class="o_proj_appointment_time">
								<i class="o_icon o_icon-fw "> </i>
								$row.date2
							</div>
						#end
						#if($r.isNotEmpty($row.time))
							<div class="o_proj_appointment_time">
								<i class="o_icon o_icon-fw o_icon_time"> </i>
								$row.time
							</div>
						#end
					</div>
					<div class="o_proj_subject">
						$r.escapeHtml($row.subject)
					</div>
				#end
			#else
				$r.translate("calendar.widget.no.appointments")
			#end
			
		</div>
		<div class="o_button_group">
			$r.render("calendar.show.all")
		</div>
	</div>
</div>
<div class="panel panel-default o_expandable_panel o_assessment_stats">
	<div class="panel-heading">
		<h4 class="panel-title"><i class="o_icon o_icon_user"> </i> $r.translate("participants")</h4>
	</div>
	<div class="o_overview">
		<div class="o_overview_members">
			<ul class="list-unstyled">
				#if($r.available("assessed.identities"))
					<li>$r.render("assessed.identities")</li>
				#end
				#if($r.available("groups"))
					<li>$r.render("groups")</li>
				#end
				#if($r.available("curriculum.elements"))
					<li>$r.render("curriculum.elements")</li>
				#end
			</ul>
		</div>
		<div class="o_overview_passed">
			$r.render("passed.chart")
			<ul class="list-unstyled">
				#if($r.available("num.passed"))
					<li>$r.render("num.passed")</li>
				#end
				#if($r.available("num.failed"))
					<li>$r.render("num.failed")</li>
				#end
				#if($r.available("num.undefined"))
					<li>$r.render("num.undefined")</li>
				#end
			</ul>
		</div>
	</div>
	
	#if($expanded)
		$r.render("launches")
		#if($r.visible("groupList"))
			$r.render("groupList")
		#end
		#if($r.visible("curriculumElementList"))
			$r.render("curriculumElementList")
		#end
		<div class="o_block"></div>
		<script>
			/* <![CDATA[ */ 
			## Inspired by BFormatter.alignTableColumns()
			## Column name has no/variable width.
			## Column #members is as long as it's header cell.
			## Column passed is as long as the smallest cell (without header cell).
			var cellWidthsMembers = 0;
			var cellWidthsPassed = 1000;
			## Calculate the 'best' columns width
			jQuery('.o_assessment_stats .o_group_list table').each(function() {
				for(i = 0; i < jQuery(this)[0].rows.length; i++){	## rows
					var cellWithMembers = jQuery(this)[0].rows[i].cells[1].clientWidth;
					if(cellWidthsMembers < cellWithMembers) {
						cellWidthsMembers = cellWithMembers;
					}
					var cellWithPassed = jQuery(this)[0].rows[i].cells[2].clientWidth;
					if(cellWidthsPassed > cellWithPassed) {
						cellWidthsPassed = cellWithPassed;
					}
				}	
			});
			## Apply the calculated width to the columns.
			jQuery('.o_assessment_stats .o_group_list table').each(function() {
				jQuery(this)[0].rows[0].cells[1].style.width = cellWidthsMembers+'px';
				jQuery(this)[0].rows[0].cells[2].style.width = cellWidthsPassed+'px';
			});
			jQuery('.o_assessment_stats .o_launch_list table').each(function() {
				jQuery(this)[0].rows[0].cells[1].style.width = cellWidthsPassed+'px';
			});
			/* ]]> */
		</script>
	#end
</div>
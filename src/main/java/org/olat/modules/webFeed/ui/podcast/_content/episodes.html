<div class="o_podcast_episodes">
    <div class="o_episode o_block_with_datecomp clearfix $!row.getItem().extraCSSClass()">
        <div class="o_head">
            #if($r.available("dateComp.$row.getItem().getGuid()"))
                $r.render("dateComp.$row.getItem().getGuid()")
            #end

            #if(($r.available("o-tools-$row.getItem().getGuid()") && $r.visible("o-tools-$row.getItem().getGuid()")))
                <div class="pull-right">
                    $r.render("o-tools-$row.getItem().getGuid()")
                </div>
            #end

            <h3 class="o_title">
                $r.escapeHtml($r.render($row.getFeedEntryLink().getComponent().getComponentName()))
            </h3>

            <i class="o_icon o_icon_$helper.getMediaType($episode.getEnclosure())"></i>

            <div class="o_meta">
                #set ( $info = $helper.getInfo($row.getItem()) )
                #if ( $info )
                    $helper.renderItemStatus($row)
                    $helper.getInfo($row.getItem())
                    #if($helper.isModified($row.getItem()))
                        <div class="text-warning">$r.escapeHtml($helper.getModifierInfo($row.getItem()))</div>
                    #end
                #end
                <div class="o_feed_com_rat_card_view">
                    $r.render($row.getRatingFormItem().getComponent().getComponentName())
                    $r.render($row.getCommentLink().getComponent().getComponentName())
                </div>
            </div>
        </div>
    </div>

    #if ($row.getItem().getDescription() && $row.getItem().getDescription() != "")
        <div class="o_block_large_top">
            $!helper.getItemDescriptionForBrowser($row.getItem())
        </div>
    #end

    <div>
        #set($podId = $r.getUniqueId())
        #if ($!row.getItem().getEnclosure())
            <div class="o_block_large_top o_enclosure">
                <div id="o_podcast_${podId}_episode" class="o_podcast_$!helper.getMediaType($episode.getEnclosure())"></div>

                <div class="o_block_top">
                    <a href="$!helper.getMediaUrl($row.getItem())" target="_blank">
                        <i class="o_icon o_icon-fw o_filetype_$!helper.getMediaType($row.getItem().getEnclosure())"></i>
                        $r.translate("podcast.episode.download")
                    </a>
                </div>

                <script>
                "use strict";
                #if ($!helper.getMediaType($row.getItem().getEnclosure()) == "video")
                    BPlayer.insertPlayer("$!helper.getMediaUrl($row.getItem())","o_podcast_${podId}_episode",$!helper.getWidth($row.getItem()),$!helper.getHeight($row.getItem()),false,null,"video",undefined,false,false,true);
                #else
                    BPlayer.insertPlayer("$!helper.getMediaUrl($row.getItem())","o_podcast_${podId}_episode",400,30,false,null,"sound",undefined,false,false,true);
                #end
                </script>
            </div>
        #end


        <div class="o_feed_footer_card_view">
            $r.escapeHtml($r.render($row.getFeedEntryLinkFurther().getComponent().getComponentName()))
            <div class="pull-right">
                #if ($feed.isExternal() && $row.getItem().getExternalLink())
                    <a href="$!row.getItem().getExternalLink()" target="_blank">
                        $r.translate("feed.item.original")
                        <i class="o_icon o_icon_start"></i>
                    </a>
                #end
            </div>
        </div>
    </div>
</div>
<div class="o_ceditor_inspector">
	<div class="o_ceditor_inspector_header">$r.render("close")<h4>$title </h4></div>
	<div class="o_ceditor_inspector_content">$r.render("inspector")</div>
</div>
<script>
"use strict";
jQuery(function() {
	var inspectorPosition = function() {
		var totalWidth = window.innerWidth;
		var jMain = jQuery("#o_main_container");
		var mainWidth = jMain.width();
		
		var jInspector = jQuery(".o_page_inspector");
		var inspectorWidth = jInspector.width();
		
		var editedFragment = jInspector.closest(".o_page_fragment_edit");
		if(editedFragment.length > 0) {
			var fragmentRect = editedFragment.get(0).getBoundingClientRect();
			var mainRect = jMain.get(0).getBoundingClientRect();
		
			var margin = mainRect.right - mainRect.width;
			var marginToContainer = mainRect.right - fragmentRect.right;
			var positionX = marginToContainer + inspectorWidth;
			if(margin < 0) {
				positionX -= inspectorWidth;
			} else if(margin < inspectorWidth) {
				positionX -= (inspectorWidth - margin) + 15;
			}
			jInspector.css('margin-right', '-' + positionX + 'px');
			jInspector.css('margin-top', '25px');
		}
	};
	
	jQuery(window).resize(inspectorPosition);
	inspectorPosition();
});
</script>


<div class="o_page_run_code">
	<pre><code id="$r.getCId()_code" #if($codeLanguage) class="language-$codeLanguage" #end>$content</code></pre>
	<div id="$r.getCId()_overlay" class="o_overlay">
	</div>
	<script>
		"use strict";
		jQuery(function() {
			const codeElement = document.getElementById('$r.getCId()_code');
			hljs.highlightElement(codeElement);
			#if($lineNumbersEnabled)
				hljs.lineNumbersBlock(codeElement);
			#end
			const cssClasses = Array.from(codeElement.classList).filter((c) => c.startsWith('language-'));
			if (cssClasses.length > 0) {
				const languageClassParts = cssClasses[0].split('-');
				if (languageClassParts.length > 1) {
					const languageName = languageClassParts[1];
					const overlayElement = document.getElementById('$r.getCId()_overlay');
					let languageLabel = languageName;
					if (languageName === 'plaintext') {
						languageLabel = '$r.translate("code.plaintext")';
					}
					overlayElement.innerHTML = `<a href="javascript:;" title="$r.translate('code.copy.to.clipboard')" onclick="o_copyToClipboard('#$r.getCId()_code'); this.blur();"><i class="o_icon o_icon_copy"> </i> ${languageLabel}</a>`;
				}
			}
		});
	</script>
</div>

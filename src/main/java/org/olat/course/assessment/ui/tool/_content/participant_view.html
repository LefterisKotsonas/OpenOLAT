<div class="o_assessment_preformance_summary o_block_large">
	<fieldset>
		<legend class="o_aps_header">
			<div class="o_aps_title">
				$title
			</div>
			#if($hasStatusField)
				<div class="o_aps_status">
					<span class='o_labeled $statusLabelCss'><i class='o_icon o_icon-fw $statusIconCss'> </i> $statusText</span>
				</div>
			#end
		</legend>
	</fieldset>
	<div class="o_aps_widgets o_widgets">
		#if($hasPassedField)
			<div class="o_aps_widget o_widget">
				<div class="o_widget_header">
					<div class="o_widget_title o_flex_item_max">
						$r.translate("passed.success.status")
					</div>
					<div class="o_widget_icon">
						<i class="o_icon o_icon_success_status"> </i>
					</div>
				</div>
				<div class="o_widget_content">
					<div class="o_widget_main o_widget_main_text o_flex_item_max">
						<div class="o_widget_main_two_cols">
							<div class="o_widget_radial_progress">
								#if($r.available("passedProgress"))
									$r.render("passedProgress")
								#end
							</div>
							<div class="o_flex_item_max">
								<div class="o_widget_text o_nowrap">
									#if($resultsVisible)
										#if($hasPassedValue && $passed)
											<div class="o_state o_passed o_nowrap">$r.translate("passed.yes")</div>
										#elseif($hasPassedValue && !$passed)
											<div class="o_state o_failed o_nowrap">$r.translate("passed.no")</div>
										#else
											<div class="o_noinfo o_nowrap">$r.translate("passed.nopassed")</div>
										#end
									#else
										<div class="o_nowrap">$r.translate("assessment.value.not.visible")</div>
									#end
								</div>
								<div class="o_widget_additional">
									<div class="o_widget_additional_text o_flex_item_max">
										#if($passedCutValue)
											$r.translate("passed.cut.from", "$passedCutValue")
										#end
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		#end
		
		#if($hasGradeField)
			<div class="o_aps_widget o_widget">
				<div class="o_widget_header">
					<div class="o_widget_title o_flex_item_max">
						$gradeLabel
					</div>
					<div class="o_widget_icon">
						<i class="o_icon o_icon_grade"> </i>
					</div>
				</div>
				<div class="o_widget_content">
					<div class="o_widget_main o_widget_main_text o_flex_item_max">
						<div class="o_widget_text o_widget_text_large o_nowrap">
							#if($resultsVisible && $grade)
								$grade
							#else
								$r.translate("assessment.value.not.visible")
							#end
						</div>
						<div class="o_widget_additional">
						</div>
					</div>
				</div>
			</div>
		#end
		
		#if($hasScoreField)
			<div class="o_aps_widget o_widget">
				<div class="o_widget_header">
					<div class="o_widget_title o_flex_item_max">
						$r.translate("score")
					</div>
					<div class="o_widget_icon">
						<i class="o_icon o_icon_score"> </i>
					</div>
				</div>
				<div class="o_widget_content">
					<div class="o_widget_main o_widget_main_figure">
						<div class="o_widget_figure o_flex_item_max">
							<span class="o_widget_figure_value o_sel_score">$score </span>
							#if ($maxScore && $maxScore > 0)
								<span class="o_widget_figure_desc">$r.translate("score.of", "$maxScore")</span>
							#end
						</div>
						<div class="o_widget_additional">
							#if($r.available("scoreProgress"))
								<div class="o_widget_progress">
									$r.render("scoreProgress")
								</div>
							#end
						</div>
					</div>
				</div>
			</div>
		#end
		#if($weightedScore)
			<div class="o_aps_widget o_widget">
				<div class="o_widget_header">
					<div class="o_widget_title o_flex_item_max">
						$r.translate("score") <span class="o_widget_subtitle">$r.translate("score.weighted.subtitle")</span>
					</div>
					<div class="o_widget_icon">
						<i class="o_icon o_icon_score_unbalanced"> </i>
					</div>
				</div>
				<div class="o_widget_content">
					#if($resultsVisible && $score)
						<div class="o_widget_main o_widget_main_figure">
							<div class="o_widget_figure o_flex_item_max">
								<span class="o_widget_figure_value">$weightedScore </span><span class="o_widget_figure_desc">$scoreScaleLabel</span>
							</div>
							<div class="o_widget_additional">
							</div>
						</div>
					#else
						<div class="o_widget_main o_widget_main_text o_flex_item_max">
							<div class="o_widget_text o_nowrap">
								$r.translate("assessment.value.not.visible")
							</div>
							<div class="o_widget_additional">
							</div>
						</div>
					#end
				</div>
			</div>
		#end
		
		#if($hasAttemptsField)
			<div class="o_aps_widget o_widget">
				<div class="o_widget_header">
					<div class="o_widget_title o_flex_item_max">
						$r.translate("attempts.yourattempts")
					</div>
					<div class="o_widget_icon">
						<i class="o_icon o_icon_attempts"> </i>
					</div>
				</div>
				<div class="o_widget_content">
					<div class="o_widget_main o_widget_main_figure">
						<div class="o_widget_figure o_flex_item_max">
							<span class="o_widget_figure_value o_sel_attempts">$attempts </span>
							#if ($maxAttempts && $maxAttempts > 0)
								<span class="o_widget_figure_desc">$r.translate("attempts.of", $maxAttempts)</span>
							#end
						</div>
						<div class="o_widget_additional">
						</div>
					</div>
				</div>
			</div>
		#end

		#if($binder)
			<div class="o_aps_widget o_widget">
				<div class="o_widget_header">
					<div class="o_widget_title o_flex_item_max">
						$r.translate("portfolio.title")
					</div>
					<div class="o_widget_icon">
						<i class="o_icon o_icon_pf_binder"> </i>
					</div>
				</div>
				<div class="o_widget_content">
					<div class="o_widget_main o_widget_main_figure">
						<span class="o_widget_figure_desc">
							$binder.getTitle()
						</span>
						<div class="o_flex_item_max o_meta_desc">
							<div class="o_meta_item" id="copyDate">
								<label>
									$r.translate("map.copyDate"):
								</label>
								<span class="o_widget_figure_desc">$r.formatDateAndTime($binder.getCopyDate())</span>
							</div>
							<div class="o_meta_item" id="submitDate">
								#if ($binder.getReturnDate())
									<label>
										$r.translate("map.returnDate")
									</label>
									<span class="o_widget_figure_desc">$r.formatDateAndTime($binder.getReturnDate())</span>
								#else
									<label>- $r.translate("portfolio.not.submitted") -</label>
								#end
							</div>
						</div>
						<div class="o_widget_additional">
						</div>
					</div>
				</div>
			</div>
		#end

		
		#if($r.available("customWidgets"))
			$r.render("customWidgets")
		#end
	</div>
</div>

#if($resultsVisible)
	#if ($r.isNotEmpty($comment))
		<div class="panel panel-default o_comment">
			  <div class="panel-heading" data-toggle="collapse" data-target="#collapseComment">
				  <h4 class="panel-title">
					  <i id="collapseCommentToggler" class="o_icon o_icon-fw #if($r.isTrue($incomment)) o_icon_close_togglebox #else o_icon_open_togglebox #end"> </i>
					  $r.translate("comment.title")
				  </h4>
			  </div>
			<div id="collapseComment" class="panel-collapse collapse #if($r.isTrue($incomment)) in #end"><div class="panel-body">
				$comment
			  </div></div>
		</div>
		<script>
		"use strict";
		jQuery('#collapseComment').on('hide.bs.collapse', function () {
			jQuery('#collapseCommentToggler').removeClass('o_icon_close_togglebox').addClass('o_icon_open_togglebox');
			$r.backgroundCommand("hide","panel","comment")
		})
		jQuery('#collapseComment').on('show.bs.collapse', function () {
			jQuery('#collapseCommentToggler').removeClass('o_icon_open_togglebox').addClass('o_icon_close_togglebox');
			$r.backgroundCommand("show","panel","comment")
		})
		</script>
	#end

	#if ($r.visible($docs))
		<div class="panel panel-default o_assessment_docs">
			  <div class="panel-heading" data-toggle="collapse" data-target="#collapseAssessmentDocuments">
				  <h4 class="panel-title">
					  <i id="collapseAssessmentDocumentsToggler" class="o_icon o_icon-fw #if($r.isTrue($inassessmentDocuments)) o_icon_close_togglebox #else o_icon_open_togglebox #end"> </i>
					  $r.translate("assessment.documents.title")
				  </h4>
			  </div>
			<div id="collapseAssessmentDocuments" class="panel-collapse collapse #if($r.isTrue($inassessmentDocuments)) in #end"><div class="panel-body">
				$r.render("docs")
			</div></div>
		</div>
		<script>
		"use strict";
		jQuery('#collapseAssessmentDocuments').on('hide.bs.collapse', function () {
			jQuery('#collapseAssessmentDocumentsToggler').removeClass('o_icon_close_togglebox').addClass('o_icon_open_togglebox');
			$r.backgroundCommand("hide","panel","assessmentDocuments")
		})
		jQuery('#collapseAssessmentDocuments').on('show.bs.collapse', function () {
			jQuery('#collapseAssessmentDocumentsToggler').removeClass('o_icon_open_togglebox').addClass('o_icon_close_togglebox');
			$r.backgroundCommand("show","panel","assessmentDocuments")
		})
		</script>
	#end

	#if($r.available("download"))
		$r.render("download")
	#end
#end